#!/usr/bin/env bash

## input guards

# instead of bailing, we will go fetch what we need
env_should_be="tool_shared/bespoke/env"
if [ "$ENV" != "$env_should_be" ]; then
  source "$REPO_HOME"/"$env_should_be"
fi

if [[ "${BASH_SOURCE[0]}" == "$0" ]]; then
  echo "$script_name:: This script must be sourced, not executed."
  exit 1
fi

cd "$REPO_HOME"/tester/

export ENV=$(script_fp)
export PROJECT="$PROJECT"_tester

export PATH=\
"$REPO_HOME"/tester/tool/\
:"$REPO_HOME"/tool_shared/bespoke/\
"$JAVA_HOME"/bin\
:"$PATH"

export CLASSPATH=\
:"$REPO_HOME"/developer/release/Ariadne.jar\
:"$JAVA_HOME"/lib\
:"$CLASSPATH"

echo "$ENV complete."
